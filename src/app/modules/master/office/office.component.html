<app-master-sub-header></app-master-sub-header>
<div class="main">
    <mdb-tabs class=" d-md-block">
        <mdb-tab>
            <ng-template mdbTabTitle><span><i class="fas fa-user-plus fa-fw me-2"></i>office</span></ng-template>
            <div class="tab1">
                <fieldset class="border p-2">
                    <legend class="float-none w-auto ">Add Details</legend>
                    <form [formGroup]="officeForm" (ngSubmit)="handleFormSubmission(officeForm)">

                        <div class="row md-4">
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="officeName" type="text"
                                        id="form8Example1" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">Office Name <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="shortCode" type="text"
                                        id="form8Example1" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">Short Code
                                        <span class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="address" type="text" id="form8Example1"
                                        class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">Address <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="landmark" type="text"
                                        id="form8Example1" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">Landmark<span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="state" type="text" id="form8Example1"
                                        class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">State <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="city" type="text" id="form8Example1"
                                        class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">City <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="locality" type="text"
                                        id="form8Example1" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">Locality <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="phoneNo" type="text" id="form8Example1"
                                        class="form-control" placeholder="+91" />
                                    <label mdbLabel class="form-label" for="form8Example1">Phone Number <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="alternateNo" type="text"
                                        id="form8Example1" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">Alternate No <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="email" type="text" id="form8Example1"
                                        class="form-control" placeholder="admin123@gmail.com" />
                                    <label mdbLabel class="form-label" for="form8Example1">Email <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="officeManager" type="text"
                                        id="form8Example1" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">Office Manager <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="OMContactNo" type="text"
                                        id="form8Example1" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">OMContactNo <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="OMEmail" type="text" id="form8Example1"
                                        class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">OMEmail <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="zipCode" type="text" id="form8Example1"
                                        class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">ZipCode <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="registrationNo" type="text"
                                        id="form8Example1" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">RegistrationNo <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="panNo" type="text" id="form8Example1"
                                        (input)="changeToUpperCase('panNo')" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">PAN No <span
                                            class="text-danger">*</span></label>
                                    <span class="position-absolute top-3 end-0 mt-n4" style=" width: 30px;">
                                        <i class="far fa-question-circle" (click)="toggleQuestion('pan')"></i>
                                    </span>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="cinNo" type="text" id="form8Example1 "
                                        (input)="changeToUpperCase('cinNo')" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">CinNo <span
                                            class="text-danger">*</span></label>
                                    <span class="position-absolute top-3 end-0 mt-n4" style=" width: 30px;">
                                        <i class="far fa-question-circle" (click)="toggleQuestion('cin')"></i></span>
                                </mdb-form-control>
                            </div>


                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="gstIn"
                                        (input)="changeToUpperCase('gstIn')" type="text" id="form8Example1"
                                        class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">GSTIN <span
                                            class="text-danger">*</span></label>

                                    <span class="position-absolute top-3 end-0 mt-n4" style=" width: 30px;">
                                        <i class="far fa-question-circle" (click)="toggleQuestion('gst')"></i></span>

                                </mdb-form-control>
                            </div>

                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="bankDetail" type="text"
                                        id="form8Example1" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">BankDetail <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="inFavourOf" type="text"
                                        id="form8Example1" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">InFavorOf <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="bankAccountNo" type="text"
                                        id="form8Example1" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">BankAccountNumber <span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="neftIsc" type="text" id="form8Example1"
                                        (input)="changeToUpperCase('neftIsc')" class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">NEFT IFSC <span
                                            class="text-danger">*</span></label>
                                    <span class="position-absolute top-3 end-0 mt-n4" style=" width: 30px;">
                                        <i class="far fa-question-circle" (click)="toggleQuestion('neft')"></i></span>
                                </mdb-form-control>
                            </div>

                            <div class="col-sm-3 mb-4">
                                <!-- Country dropdown list -->

                                <mdb-form-control>
                                    <select mdbInput mdbValidate formControlName="clientId" id="form8Example4"
                                        class="form-control" aria-labelledby="dropdownMenuLink">
                                        <option value="" disabled selected hidden></option>
                                        <option value="1">ID-101</option>
                                        <option value="2">ID-102</option>
                                        <option value="3">ID-103</option>
                                        <option value="4">ID-104</option>
                                        <option value="5">ID-105</option>
                                        <option value="6">ID-106</option>
                                        <option value="7">ID-107</option>
                                        <!-- Add more options as needed -->
                                    </select>
                                    <label mdbLabel class="form-label" for="form8Example4">ClientID <span
                                            class="text-danger">*</span></label>
                                    <i class="fas fa-caret-down"
                                        style="position: absolute; top: 50%; transform: translateY(-50%); right: 10px;"></i>
                                </mdb-form-control>
                            </div>
                            <div class="col-sm-3 mb-4">
                                <mdb-form-control>
                                    <input mdbInput mdbValidate formControlName="remarks" type="text" id="form8Example1"
                                        class="form-control" />
                                    <label mdbLabel class="form-label" for="form8Example1">Remarks<span
                                            class="text-danger">*</span></label>
                                </mdb-form-control>
                            </div>

                            <div class="col upload-img" class="col-sm-3 mb-4">
                                <div style="display: flex; flex-direction: column;  margin-bottom: 0.5rem;">
                                    <label mdbLabel for="document">Logo</label>
                                    <input mdbValidate id="document" type="file" formControlName="logo"
                                        (change)="onFileSelected($event)" accept="image/*">
                                </div>
                                <div *ngIf="imageUrl" class="image-container">
                                    <img [src]="imageUrl" alt="Uploaded Image">
                                </div>
                            </div>
                        </div>

                        <div class="save-button">

                            <button mdbRipple type="submit" class="btnClass btnClass-primary"><i
                                    class="fas fa-save fa-fw me-2"></i>Save</button>

                        </div>
                    </form>
                </fieldset>
            </div>
        </mdb-tab>
        <mdb-tab>
            <ng-template mdbTabTitle><span><i class="fas fa-users-line fa-fw me-2"></i>List</span></ng-template>

            <div class="filterx">
                <mat-form-field class="filters">
                    <mat-label class="filterx">Filter</mat-label>
                    <input matInput (keyup)="applyFilter($event)" placeholder="Search Here...." #input>
                </mat-form-field>
            </div>
            <div class="table-container mat-elevation-z8 ">

                <table mat-table [dataSource]="dataSource" matSort>

                    <!-- Checkbox Column -->
                    <ng-container matColumnDef="select">
                        <th mat-header-cell *matHeaderCellDef style="width: 50px" class="actionheader">
                            <mat-checkbox (change)="$event ? toggleAllRows() : null"
                                [checked]="selection.hasValue() && isAllSelected()"
                                [indeterminate]="selection.hasValue() && !isAllSelected()"
                                [aria-label]="checkboxLabel()">
                            </mat-checkbox>
                        </th>
                        <td mat-cell *matCellDef="let row" style="width: 50px">
                            <mat-checkbox (click)="$event.stopPropagation()"
                                (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)"
                                [aria-label]="checkboxLabel(row)">
                            </mat-checkbox>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="logo">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Logo </th>
                        <td mat-cell *matCellDef="let row"> {{ row.logo }} </td>
                    </ng-container>

                    <ng-container matColumnDef="officeName">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Office Name </th>
                        <td mat-cell *matCellDef="let row"> {{ row.officeName }} </td>
                    </ng-container>

                    <ng-container matColumnDef="shortCode">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Short Code </th>
                        <td mat-cell *matCellDef="let row"> {{ row.shortCode }} </td>
                    </ng-container>

                    <ng-container matColumnDef="address">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Address </th>
                        <td mat-cell *matCellDef="let row"> {{ row.address }} </td>
                    </ng-container>

                    <ng-container matColumnDef="landmark">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Landmark </th>
                        <td mat-cell *matCellDef="let row"> {{ row.landmark }} </td>
                    </ng-container>

                    <ng-container matColumnDef="state">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> State </th>
                        <td mat-cell *matCellDef="let row"> {{ row.state }} </td>
                    </ng-container>

                    <ng-container matColumnDef="city">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> City </th>
                        <td mat-cell *matCellDef="let row"> {{ row.city }} </td>
                    </ng-container>

                    <ng-container matColumnDef="locality">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Locality </th>
                        <td mat-cell *matCellDef="let row"> {{ row.locality }} </td>
                    </ng-container>

                    <ng-container matColumnDef="phoneNumber">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Phone Number </th>
                        <td mat-cell *matCellDef="let row"> {{ row.phoneNumber }} </td>
                    </ng-container>

                    <ng-container matColumnDef="alternateNo">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Alternate No </th>
                        <td mat-cell *matCellDef="let row"> {{ row.alternateNo }} </td>
                    </ng-container>

                    <ng-container matColumnDef="email">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
                        <td mat-cell *matCellDef="let row"> {{ row.email }} </td>
                    </ng-container>

                    <ng-container matColumnDef="officeManager">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Office Manager </th>
                        <td mat-cell *matCellDef="let row"> {{ row.officeManager }} </td>
                    </ng-container>

                    <ng-container matColumnDef="omContactNo">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> OMContact No </th>
                        <td mat-cell *matCellDef="let row"> {{ row.omContactNo }} </td>
                    </ng-container>

                    <ng-container matColumnDef="omEmail">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> OMEmail </th>
                        <td mat-cell *matCellDef="let row"> {{ row.omEmail }} </td>
                    </ng-container>

                    <ng-container matColumnDef="zipCode">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> ZipCode </th>
                        <td mat-cell *matCellDef="let row"> {{ row.zipCode }} </td>
                    </ng-container>

                    <ng-container matColumnDef="registrationNo">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> RegistrationNo </th>
                        <td mat-cell *matCellDef="let row"> {{ row.registrationNo }} </td>
                    </ng-container>

                    <ng-container matColumnDef="cloth">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> PAN No </th>
                        <td mat-cell *matCellDef="let row"> {{ row.cloth }} </td>
                    </ng-container>

                    <ng-container matColumnDef="cinNo">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Cin No </th>
                        <td mat-cell *matCellDef="let row"> {{ row.cinNo }} </td>
                    </ng-container>

                    <ng-container matColumnDef="gstinNo">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GSTIN </th>
                        <td mat-cell *matCellDef="let row"> {{ row.gstinNo }} </td>
                    </ng-container>

                    <ng-container matColumnDef="bankDetail">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> BankDetail </th>
                        <td mat-cell *matCellDef="let row"> {{ row.bankDetail }} </td>
                    </ng-container>

                    <ng-container matColumnDef="inFavourof">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> InFavorOf </th>
                        <td mat-cell *matCellDef="let row"> {{ row.inFavourof }} </td>
                    </ng-container>

                    <ng-container matColumnDef="bankAccountNumber">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> BankAccountNumber </th>
                        <td mat-cell *matCellDef="let row"> {{ row.bankAccountNumber }} </td>
                    </ng-container>

                    <ng-container matColumnDef="paymentMode">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> NEFT IFSC </th>
                        <td mat-cell *matCellDef="let row"> {{ row.paymentMode }} </td>
                    </ng-container>

                    <ng-container matColumnDef="remarks">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Remarks</th>
                        <td mat-cell *matCellDef="let row"> {{ row.remarks }} </td>
                    </ng-container>

                    <ng-container matColumnDef="clientId">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> ClientID </th>
                        <td mat-cell *matCellDef="let row"> {{ row.clientId }} </td>
                    </ng-container>

                    <ng-container matColumnDef="createdBy">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Created By </th>
                        <td mat-cell *matCellDef="let row"> {{ row.createdBy }} </td>
                    </ng-container>

                    <ng-container matColumnDef="createdOn">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Created On </th>
                        <td mat-cell *matCellDef="let row"> {{ row.createdOn | date: 'mediumDate'}} </td>
                    </ng-container>

                    <ng-container matColumnDef="updatedBy">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Updated By </th>
                        <td mat-cell *matCellDef="let row"> {{ row.updatedBy }} </td>
                    </ng-container>

                    <ng-container matColumnDef="updatedOn">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Updated On </th>
                        <td mat-cell *matCellDef="let row"> {{ row.updatedOn | date: 'mediumDate'}} </td>
                    </ng-container>
                    <ng-container matColumnDef="isActive">
                        <th mat-header-cell *matHeaderCellDef> Active </th>
                        <td mat-cell *matCellDef="let row">
                            <span *ngIf="row.isActive" class="badge badge-success">True</span>
                            <span *ngIf="!row.isActive" class="badge rounded-pill badge-danger">False</span>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="actions">
                        <th mat-header-cell *matHeaderCellDef class="actionheader"> Actions </th>
                        <td mat-cell *matCellDef="let row" class="action-cell">
                            <span style="text-decoration: none;">
                                <div mdbDropdown class="dropdown dropx">
                                    <a role="button" id="dropdownMenuLink" mdbDropdownToggle
                                        style="width:4px; height: 10px; color: black; border-radius: 0px; padding:0px 30px">
                                        <i class="fas fa-ellipsis-v fa-1.8x  ico"
                                            style="margin-bottom: 0px; z-index: 999; margin-left:0px;margin-right:20px"
                                            id="icox"></i> </a>
                                    <ul mdbDropdownMenu class="dropdown-menu" style="margin-left: 30px;">
                                        <li><a class="dropdown-item"><i class="fa-solid fa-pen-to-square"></i>
                                                Edit
                                            </a></li>
                                        <li><a class="dropdown-item"><i class="fas fa-trash"></i>
                                                Delete</a></li>
                                    </ul>
                                </div>
                            </span>
                        </td>
                        <td mat-cell></td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                    <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="8">No data found "{{ input.value }}"</td>
                    </tr>
                </table>
            </div>
            <mat-paginator class="paginator" [pageSizeOptions]="[7, 10, 25, 100]"
                aria-label="Select page of users"></mat-paginator>
        </mdb-tab>
    </mdb-tabs>
</div>



<div *ngIf="showQuestion" class="modal-overlay" (click)="closePopup()">
    <div class="modal-dialog " (click)="preventCloses($event)">
        <div class="modal-content">

            <button mat-icon-button (click)="closePopup()" class="close-icon">
                <i class="far fa-times-circle"></i>
            </button>

            <div class="image">
                <a mdbRipple routerLink="">
                    <img style="background-size: cover; background-attachment: fixed;" alt="example"
                        class="img-fluid rounded" src={{currentModalImgUrl}} />
                </a>
            </div>
        </div>
    </div>
</div>